<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="'Updating ' + ${make.name} + ' â€” Car Rental Service'"></title>
    <link rel="stylesheet" th:href="@{/css/styles-common.css}">
    <link rel="stylesheet" th:href="@{/css/styles-form.css}">
    <link rel="stylesheet" th:href="@{/css/styles-header.css}">
</head>
<body>
<header th:insert="fragments/header.html :: pages"></header>

<div class="container edit-create-wrapper">
    <form class="edit-form" method="post" th:action="@{/makes/{id}/update(id=${make.id})}" enctype="multipart/form-data">
        <h2>Make Information</h2>

        <div class="form-group">
            <label for="name">Name:</label>
            <input type="text" name="name" id="name" placeholder="Toyota" required th:value="${make.name}">
        </div>

        <div class="form-group">
            <label for="country">Country:</label>
            <input type="text" name="country" id="country" placeholder="Japan" th:value="${make.information.country}">
        </div>

        <div class="form-group">
            <label for="description">Description:</label>
            <textarea id="description" name="description" rows="4" cols="80"
                      placeholder="Japanese multinational automotive manufacturer"
                      th:text="${make.information.description}"></textarea>
        </div>

        <div class="form-group">
            <label for="founder">Founder:</label>
            <input type="text" name="founder" id="founder" placeholder="Mads Mikkelsen" th:value="${make.information.founder}">
        </div>

        <div class="form-group">
            <label for="foundedAt">Date of foundation:</label>
            <input type="date" name="foundedAt" id="foundedAt" th:value="${make.information.foundedAt}">
        </div>

        <div class="form-group">
            <label for="owner">Owner:</label>
            <input type="text" name="owner" id="owner" placeholder="BMW Group" th:value="${make.information.owner}">
        </div>

        <section th:if="${make.titleImage}">
            <label>Current title image:</label>
            <img th:src="${make.titleImage.url}" alt="Current title image" class="image-container">
        </section>

        <section th:if="${make.images != null and !#lists.isEmpty(make.images)}">
            <label>Select a new title image:</label>
            <div th:each="image : ${make.images}">
                <label th:for="${'image_' + image.id}" class="image-option">
                    <input type="radio" name="titleImageId"
                           th:id="${'image_' + image.id}"
                           th:value="${image.id}"
                           th:checked="${make.titleImage != null and make.titleImage.id == image.id}">
                    <img th:src="${image.url}" alt="Image option" class="image-container">
                    <span th:text="'Uploaded at: ' + ${image.uploadedAt}"></span>
                </label>
            </div>
        </section>

        <div class="form-actions">
            <button type="submit">Update</button>
        </div>
    </form>
</div>

</body>
</html>